@model IPagedList<PS_TUP.Models.TipoEmpresa.Empresas>

@{
    ViewBag.Title = "Empresas No Verificadas";
}


@using PagedList.Mvc;
@using PagedList;

<head>
    <link rel="stylesheet" href="~/Content/Empresas.css" />
    <link rel="stylesheet" href="~/Content/PagedList.css" />
</head>


<h2 class="text-center p-5 text-uppercase">EMPRESAS NO VERIFICADAS</h2>


@if (Model.LongCount() >= 1)
{
    <p class="text-center">  Resultados:</p>
    <br />
}
else if (Model.LongCount() == 0)
{
    <p class="text-center">&nbsp Lo sentimos, no se han encontrado resultados para tu búsqueda.</p>
    <br /> <br /> <br />
}

<div class="row justify-content-center">
    <div class="col-lg-12 col-md-12 col-sm-10">
        <table class="table table-striped table-hover">
            <tbody>
                <tr>

                    <th class="align-middle text-center">
                        <label>ID EMPRESA</label>
                    </th>

                    <th class="align-middle text-center">
                        <label>CUIT</label>
                    </th>

                    <th class="align-middle text-center">
                        <label>RAZON SOCIAL</label>
                    </th>

                    <th class="align-middle text-center">
                        <label>NOMBRE COMERCIAL</label>
                    </th>

                    <th class="align-middle text-center">
                        <label>DIRECCION</label>
                    </th>

                    <th class="align-middle text-center">
                        <label>PAGINA WEB</label>
                    </th>

                    @*<th class="align-middle text-center">
                        <label>COMPROBANTE</label>
                    </th>*@

                    <th class="align-middle text-center">

                    </th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>

                        <td class="align-middle text-center">
                            @Html.DisplayFor(modelItem => item.idEmpresa)
                        </td>
                        <td class="align-middle text-center col-2">
                            @Html.DisplayFor(modelItem => item.CUIT)
                        </td>
                        <td class="align-middle text-center">
                            @Html.DisplayFor(modelItem => item.razonSocial)
                        </td>
                        <td class="align-middle text-center">
                            @Html.DisplayFor(modelItem => item.nombreComercial)
                        </td>

                        <td class="align-middle text-center col-4">
                            @Html.DisplayFor(model => item.calle)  @Html.DisplayFor(model => item.altura) @Html.DisplayFor(model => item.piso),
                            @Html.DisplayFor(model => item.ciudad),  @Html.DisplayFor(model => item.provincia)
                        </td>
                        <td class="align-middle text-center col-1">
                            <a href="@Html.DisplayFor(modelItem => item.paginaWeb)" target="_blank"> @item.paginaWeb </a>
                        </td>

                        @*<td class="align-middle text-center">

                            @{

                                decimal comprobante = Convert.ToDecimal(BitConverter.ToInt64(item.comprobanteInsc, 0));

                                if (@ViewBag.comparador != comprobante)
                                {
                                    <a href="@Url.Action("Download", "Admin", new {id = item.idEmpresa})" target="_blank" class="btn btn-link p-0">Ver</a>
                                    <a href="@Url.Action("Download", "Admin", new {id = item.idEmpresa})" download="Comprobante.jpg" class="btn btn-link p-0">Descargar</a>
                                }

                                else
                                {
                                    <p> La empresa no ha cargado comprobante aún.</p>
                                }
                            }

                        </td>*@


                        <td class="align-middle text-center">
                            <a href="@Url.Action("DetalleEmpresaNoVerificada", "Admin", new {@idEmpresa= item.idEmpresa})" class=" btn btn-lg text-dark edit-button "><i class="far fa-eye"></i></a>
                        </td>
                    </tr>

                }
            </tbody>
        </table>


        <br />

        <div class="text-center">
            @Html.PagedListPager(Model, i => Url.Action("EmpresasNoVerificadas", "Admin", new { i, search = Request.QueryString["search"] }))
        </div>

        <p class="text-center">
            @Html.ActionLink("< Regresar", "EmpresasNoVerificadas", "Admin")
        </p>

        <p class="text-center">
            @Html.ActionLink("< Escritorio", "VerDatos", "Cuenta")
        </p>
        <div class="text-center">
            <a href="@Url.Action("EmpresasVerificadas", "Admin", new { })" class="btn btn-link"> Ver Empresas Verificadas</a>
        </div>

    </div>
</div>

<br /><br /><br /><br /><br /><br /><br /><br />