@using PS_TUP.Models
@model Usuario

@{
    ViewBag.Title = "Registro";
}

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <head>
        <link rel="stylesheet" href="~/Content/Registro.css" />
    </head>

    <body class="bg-light">

        <br /> <br /><br />
        <div class="wrapper">
            <div id="formContentContraseña">
                <br />
                <div class="fadeIn first">
                    @*<img class="mb-4 " src="~/images/login3.png" width="100" height="95" />*@
                    <img class="mb-4" src="~/images/login4.png" width="200" height="200" />
                </div>
                <h3 class="h3 mb-3">Registrarse</h3>

                @Html.ValidationSummary(true, "", new { @class = "text-danger2" })

                <form>
                    @Html.EditorFor(model => model.UserName, new { htmlAttributes = new { @class = "", @id = "login", @placeholder = "Nombre de Usuario", @name = "login", @maxlength = "20" } })
                    @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })


                    @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "dropDown", @id = "email", @placeholder = "Email", @name = "email" } })
                    @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })

                    @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "", @id = "password", @placeholder = "Contraseña", @name = "password", @maxlength = "15" } })
                    @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })

                    @Html.DropDownListFor(model => model.role, new SelectList(Enum.GetValues(typeof(TipoUsuario))), "Registrarse como:", new { @class = "dropDown " })
                    @Html.ValidationMessageFor(model => model.role, null, new { @class = "text-danger" })
                    <br />

                    <div class=" pb-0 wrapper">
                        <input type="submit" class="" @*onclick="llamarVistaParcial()" data-bs-toggle="modal" data-bs-target="#staticBackdrop"*@ value="REGISTRARSE">
                    </div>        
                </form>

                <div id="formFooter" class="pt-2">
                    <label class="pregunta">
                        ¿Ya está registrado/a?  @Html.ActionLink("Iniciar Sesión", "Login", new { area = "" }, new { @class = "underlineHover" })
                    </label>
                </div>
                <br />

            </div>
        </div>

        <br /> <br /><br /><br />



        @*<br /> <br /><br />
            <main class="form-signin text-center shadow-lg p-3 mb-5 bg-white rounded">
                <form>
                    <img class="mb-4" src="~/images/login2.png" alt="" width="100" height="95">
                    <h1 class="h3 mb-3 fw-normal">Registrarse:</h1>
                    @Html.ValidationSummary(true, "El usuario ingresado ya existe, ingrese uno distinto.", new { @class = "text-danger" })

                    <div class="form-floating">
                        @Html.EditorFor(model => model.UserName, new { htmlAttributes = new { @class = "form-control", @id = "floatingInput", @placeholder = "Nombre de Usuario" } })
                        @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })
                        <label for="floatingInput">Nombre de Usuario</label>
                    </div>

                    <div class="form-floating">
                        @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control", @id = "floatingPassword", @placeholder = "Contraseña" } })
                        @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
                        <label for="floatingPassword">Contraseña</label>
                    </div>

                    <div class="form-floating">
                        @Html.DropDownListFor(model => model.role, new SelectList(Enum.GetValues(typeof(TipoUsuario))), "Seleccione una opción", new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.role, null, new { @class = "text-danger" })
                        <label for="floatingInput">Registrarse como:</label>
                    </div>
                    <br /><br />
                    <button class="w-100 btn btn-lg btn-primary" type="submit">REGISTRARSE</button>
                    <br /><br />

                    <div class="checkbox mb-3">
                        <br>
                        <label>
                            ¿Ya está registrado/a?  @Html.ActionLink("Iniciar Sesión", "Login", new { area = "" }, new { @class = "" })
                        </label>
                    </div>

                </form>
            </main>
            <br /> <br /><br /><br /><br />*@
    </body>


    @section Scripts{

        <script type="text/javascript">

          //  $('#myModal').modal('show');


           function llamarVistaParcial() {
            var laURLDeLaVista = '@Url.Action("Registro", "Cuenta")';
            $.ajax({
                cache: false,
                async: true,
                type: "GET",
                url: laURLDeLaVista,
                data: {},
                success: function (response) {
                    $('#resultado').html(response);
                },
                error: function (request, status, error) {
                    alert(request.responseText);
                }
            });

            $('#myModal').modal('show');  //Después de asignar la data mostramos la ventana modal
        }


        </script>

    }

}






